import React, { useState } from 'react';
import './App.css';

function App() {
  const [inputText, setInputText] = useState('');
  const [question, setQuestion] = useState('');
  const [showExport, setShowExport] = useState(false);
  const [showAboutModal, setShowAboutModal] = useState(false);

  const handleAnalyze = () => {
    console.log("🔍 Função Analisar simulada (frontend local)");
    setShowExport(true);
    alert("Análise simulada concluída! (Frontend local)");
  };

  const handleClear = () => {
    setInputText('');
    setQuestion('');
    setShowExport(false);
    console.log("🧹 Campos limpos");
  };

  const handleTestConnection = () => {
    console.log("🔗 Função Testar Conexão simulada (frontend local)");
    alert("Testar Conexão clicado! (Frontend local)");
  };

  const handleAbout = () => {
    setShowAboutModal(true);
  };

  return (
    <div className="App">
      <h1>💙 Saphira</h1>
      <p>Análise Inteligente, Técnica e Auditável</p>

      <textarea
        placeholder="Digite um artigo para verificar contradições e viés..."
        value={inputText}
        onChange={(e) => setInputText(e.target.value)}
      ></textarea>

      <input
        placeholder="Pergunta Específica (Opcional)"
        value={question}
        onChange={(e) => setQuestion(e.target.value)}
      />

      <button className="file-btn">Selecionar Arquivo (.txt, em breve .doc)</button>

      <div className="btn-group">
        <button className="primary-btn" onClick={handleAnalyze}>Analisar</button>
        <button className="danger-btn" onClick={handleClear}>Limpar</button>
        <button className="primary-btn" onClick={handleTestConnection}>Testar Conexão</button>
        <button className="secondary-btn" onClick={handleAbout}>Sobre a Saphira</button>
      </div>

      {showExport && (
        <div className="export-group">
          <button className="secondary-btn">Exportar JSON</button>
          <button className="file-btn">Ver Auditoria (0)</button>
        </div>
      )}

      <footer className="footer-note">
        🚀 Saphira • Plataforma de Análise Premium • Auditável • Transparente <br />
        🔍 Privacidade Total • Análise Técnica • Resultados Verificáveis
      </footer>

      {showAboutModal && (
        <div className="modal-overlay" onClick={() => setShowAboutModal(false)}>
          <div className="modal-content" onClick={(e) => e.stopPropagation()}>
            <h2>💙 Sobre a Saphira</h2>
            <p>
              Saphira é uma plataforma de análise premium, projetada para oferecer precisão técnica,
              transparência total e rastreabilidade auditável. Esta versão demonstra a interface premium 
              pronta para futuras integrações avançadas.
            </p>
            <button onClick={() => setShowAboutModal(false)}>Fechar</button>
          </div>
        </div>
      )}
    </div>
  );
}

export default App;
